{
    "database": {
        "type": "mysql",
        "name": "tria-elearning",
        "server": "lin142.loading.es",
        "port": 3306
    },
    "schema": {
        "tables": [
            {
                "name": "assigned_roles",
                "comment": "Roles asignados a los usuarios en las organizaciones",
                "columns": [
                    {
                        "name": "id_organization",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "id_role",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador del rol",
                        "default": null
                    },
                    {
                        "name": "id_user",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador del usuario",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id_organization",
                    "id_role",
                    "id_user"
                ],
                "foreign_keys": [
                    {
                        "column": "id_organization",
                        "reference": {
                            "table": "organizations",
                            "column": "id"
                        }
                    },
                    {
                        "column": "id_user",
                        "reference": {
                            "table": "users",
                            "column": "id"
                        }
                    },
                    {
                        "column": "id_role",
                        "reference": {
                            "table": "roles",
                            "column": "id"
                        }
                    }
                ]
            },
            {
                "name": "organizations",
                "comment": "Organizaciones",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Nombre de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "cif",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "CIF de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "retailer",
                        "type": "TINYINT",
                        "nullable": false,
                        "comment": "Indica si la organizaci\u00f3n es minorista de formaci\u00f3n.",
                        "default": null
                    },
                    {
                        "name": "id_parent",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador de la organizaci\u00f3n padre",
                        "default": null
                    },
                    {
                        "name": "wholeseller",
                        "type": "TINYINT",
                        "nullable": false,
                        "comment": "Indica si la organizaci\u00f3n es mayorista de formaci\u00f3n.",
                        "default": null
                    },
                    {
                        "name": "web",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "P\u00e1gina web de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "email",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Email de contacto de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "phone",
                        "type": "VARCHAR(20)",
                        "nullable": true,
                        "comment": "Tel\u00e9fono de contacto de la organizaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "logo",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Identificador \u00fanico",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "id_parent",
                        "reference": {
                            "table": "organizations",
                            "column": "id"
                        }
                    },
                    {
                        "column": "logo",
                        "reference": {
                            "table": "files",
                            "column": "guid"
                        }
                    }
                ]
            },
            {
                "name": "files",
                "comment": "Archivos",
                "columns": [
                    {
                        "name": "guid",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Identificador \u00fanico",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Nombre del archivo",
                        "default": null
                    },
                    {
                        "name": "content",
                        "type": "BLOB",
                        "nullable": false,
                        "comment": "Contenido del archivo",
                        "default": null
                    },
                    {
                        "name": "hash",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Hash del contenido",
                        "default": null
                    },
                    {
                        "name": "mime_type",
                        "type": "VARCHAR(50)",
                        "nullable": false,
                        "comment": "Tipo MIME",
                        "default": null
                    },
                    {
                        "name": "size",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Tama\u00f1o del archivo en bytes",
                        "default": null
                    },
                    {
                        "name": "metadata",
                        "type": "LONGTEXT",
                        "nullable": true,
                        "comment": "Metadatos",
                        "default": null
                    },
                    {
                        "name": "created_at",
                        "type": "TIMESTAMP",
                        "nullable": false,
                        "comment": "Fecha de creaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "MEDIUMTEXT",
                        "nullable": true,
                        "comment": "Descripci\u00f3n del archivo",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "guid"
                ],
                "foreign_keys": []
            },
            {
                "name": "roles",
                "comment": "Roles de usuario",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Nombre del rol",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Descripci\u00f3n del rol",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": []
            },
            {
                "name": "users",
                "comment": "Usuarios",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "email",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Direcci\u00f3n de email",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(50)",
                        "nullable": false,
                        "comment": "Nombre",
                        "default": null
                    },
                    {
                        "name": "surname",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Apellidos",
                        "default": null
                    },
                    {
                        "name": "enabled",
                        "type": "TINYINT",
                        "nullable": false,
                        "comment": "Cuenta de usuario habilitada",
                        "default": null
                    },
                    {
                        "name": "password",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Contrase\u00f1a",
                        "default": null
                    },
                    {
                        "name": "address",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Direcci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "municipality",
                        "type": "VARCHAR(100)",
                        "nullable": true,
                        "comment": "Municipio",
                        "default": null
                    },
                    {
                        "name": "province",
                        "type": "VARCHAR(100)",
                        "nullable": true,
                        "comment": "Provincia",
                        "default": null
                    },
                    {
                        "name": "zip_code",
                        "type": "VARCHAR(5)",
                        "nullable": true,
                        "comment": "C\u00f3digo postal",
                        "default": null
                    },
                    {
                        "name": "phone",
                        "type": "VARCHAR(30)",
                        "nullable": true,
                        "comment": "Tel\u00e9fono",
                        "default": null
                    },
                    {
                        "name": "document",
                        "type": "VARCHAR(50)",
                        "nullable": true,
                        "comment": "Documento de identificaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "document_type",
                        "type": "ENUM",
                        "nullable": true,
                        "comment": "Tipo de documento de identificaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "genre",
                        "type": "ENUM",
                        "nullable": true,
                        "comment": "G\u00e9nero",
                        "default": null
                    },
                    {
                        "name": "created_at",
                        "type": "TIMESTAMP",
                        "nullable": false,
                        "comment": "Fecha de creaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "photo",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Identificador \u00fanico",
                        "default": null
                    },
                    {
                        "name": "birthdate",
                        "type": "DATE",
                        "nullable": true,
                        "comment": "Fecha de nacimiento",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "photo",
                        "reference": {
                            "table": "files",
                            "column": "guid"
                        }
                    }
                ]
            },
            {
                "name": "categories",
                "comment": "Categor\u00edas de los cursos",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador de la categor\u00eda",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Nombre de la categor\u00eda",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": []
            },
            {
                "name": "courses",
                "comment": "Cursos",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "duration",
                        "type": "SMALLINT",
                        "nullable": false,
                        "comment": "Duraci\u00f3n estimada del curso en minutos",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "MEDIUMTEXT",
                        "nullable": true,
                        "comment": "Descripci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "id_category",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador de la categor\u00eda",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Nombre del curso",
                        "default": null
                    },
                    {
                        "name": "repo_url",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "URL del repositorio Git del curso",
                        "default": null
                    },
                    {
                        "name": "repo_name",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "nombre del repositorio Git del curso",
                        "default": null
                    },
                    {
                        "name": "color",
                        "type": "VARCHAR(9)",
                        "nullable": false,
                        "comment": "Color de fondo del curso",
                        "default": null
                    },
                    {
                        "name": "banner",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Identificador \u00fanico",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "banner",
                        "reference": {
                            "table": "files",
                            "column": "guid"
                        }
                    },
                    {
                        "column": "id_category",
                        "reference": {
                            "table": "categories",
                            "column": "id"
                        }
                    }
                ]
            },
            {
                "name": "enrollments",
                "comment": "Matriculaciones de usuarios en cursos",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "enrollment_date",
                        "type": "DATETIME",
                        "nullable": false,
                        "comment": "Fecha de matriculaci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "id_student",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "id_course",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "id_student",
                        "reference": {
                            "table": "users",
                            "column": "id"
                        }
                    },
                    {
                        "column": "id_course",
                        "reference": {
                            "table": "courses",
                            "column": "id"
                        }
                    }
                ]
            },
            {
                "name": "fields",
                "comment": "Campos de un formulario",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Nombre",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Descripci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "mandatory",
                        "type": "TINYINT",
                        "nullable": false,
                        "comment": "Indica si el campo es obligatorio",
                        "default": null
                    },
                    {
                        "name": "values",
                        "type": "LONGTEXT",
                        "nullable": false,
                        "comment": "Valores posibles",
                        "default": null
                    },
                    {
                        "name": "type",
                        "type": "ENUM",
                        "nullable": true,
                        "comment": "Tipo de campo",
                        "default": null
                    },
                    {
                        "name": "id_form",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "id_form",
                        "reference": {
                            "table": "forms",
                            "column": "id"
                        }
                    }
                ]
            },
            {
                "name": "forms",
                "comment": "Formularios",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Nombre",
                        "default": null
                    },
                    {
                        "name": "title",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "T\u00edtulo",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Descripci\u00f3n",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": []
            },
            {
                "name": "grants",
                "comment": "Permisos",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "name",
                        "type": "VARCHAR(100)",
                        "nullable": false,
                        "comment": "Nombre del permiso",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Descripci\u00f3n del permiso",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": []
            },
            {
                "name": "logs",
                "comment": "Registros de actividad",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "type",
                        "type": "VARCHAR(50)",
                        "nullable": false,
                        "comment": "Tipo de registro",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "Descripci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "data",
                        "type": "TEXT",
                        "nullable": false,
                        "comment": "Datos",
                        "default": null
                    },
                    {
                        "name": "created_at",
                        "type": "TIMESTAMP",
                        "nullable": false,
                        "comment": "Fecha de creaci\u00f3n",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": []
            },
            {
                "name": "roles_grants",
                "comment": null,
                "columns": [
                    {
                        "name": "rolesId",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": null,
                        "default": null
                    },
                    {
                        "name": "grantsId",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": null,
                        "default": null
                    }
                ],
                "primary_keys": [
                    "rolesId",
                    "grantsId"
                ],
                "foreign_keys": [
                    {
                        "column": "grantsId",
                        "reference": {
                            "table": "grants",
                            "column": "id"
                        }
                    },
                    {
                        "column": "rolesId",
                        "reference": {
                            "table": "roles",
                            "column": "id"
                        }
                    }
                ]
            },
            {
                "name": "topics",
                "comment": "Temas de los cursos",
                "columns": [
                    {
                        "name": "id",
                        "type": "INTEGER",
                        "nullable": false,
                        "comment": "Identificador",
                        "default": null
                    },
                    {
                        "name": "title",
                        "type": "VARCHAR(255)",
                        "nullable": false,
                        "comment": "T\u00edtulo del tema",
                        "default": null
                    },
                    {
                        "name": "duration",
                        "type": "SMALLINT",
                        "nullable": false,
                        "comment": "Duraci\u00f3n estimada del tema en minutos",
                        "default": null
                    },
                    {
                        "name": "description",
                        "type": "MEDIUMTEXT",
                        "nullable": true,
                        "comment": "Descripci\u00f3n",
                        "default": null
                    },
                    {
                        "name": "path",
                        "type": "VARCHAR(255)",
                        "nullable": true,
                        "comment": "Ruta del tema dentro del curso",
                        "default": null
                    },
                    {
                        "name": "id_course",
                        "type": "INTEGER",
                        "nullable": true,
                        "comment": "Identificador",
                        "default": null
                    }
                ],
                "primary_keys": [
                    "id"
                ],
                "foreign_keys": [
                    {
                        "column": "id_course",
                        "reference": {
                            "table": "courses",
                            "column": "id"
                        }
                    }
                ]
            }
        ]
    }
}